var nodeTypes={1:"element",2:"attribute",3:"text",4:"cdata_section",5:"entity_reference",6:"entity",7:"processing_instruction",8:"comment",9:"document",10:"document_type",11:"document_fragment",12:"notation"},forAllChildren=function(a,b){var c=getChildren(a);if(c)for(var d=0;d<c.length;d++)b(c[d])},getChildren=function(a){if(a){var b=nodeTypes[a[0]];return"element"==b?a[2]:"document"==b?a[1]:null}},getTagName=function(a){if(a)return"element"==nodeTypes[a[0]]?a[1]:null},hasTag=function(a,b){if(getTagName(a)==
    b)return!0;var c=getChildren(a);if(c)for(var d=0;d<c.length;d++)if(hasTag(c[d],b))return!0;return!1};module.exports={tokenize:function(a,b){function c(d){var b=[];forAllChildren(d,function(e){if("string"==typeof e){e=a.tokenize(e);for(var g=0;g<e.length;g++){var f=e[g],f={string:f,tag:getTagName(d),isPeriod:!!f.match(/^[\.]+$/),isNumber:!!f.match(/^[0-9\.]+$/),isCapitalized:!!f.match(/^[A-Z]/)};b.push(f)}}else b.push.apply(b,c(e))});return b}if(!a)throw Error("Tokenizer should exist");return c(b)}};